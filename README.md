# SPI Masterâ€“Slave System (1 Master, 3 Slaves)

## ğŸ“˜ Overview

This project implements a **Serial Peripheral Interface (SPI)** system in **Verilog HDL**, featuring **one master and three slaves** communicating via full-duplex mode.
The design demonstrates synchronous serial communication with master-driven clock (`SCLK`), chip select (`CS`), and serial data lines (`MOSI`, `MISO`).

The master and slaves are fully synthesizable and verified using a self-checking testbench.

---

## âš™ï¸ Features

* 1 Master and 3 Slave modules.
* **Full-duplex data transfer**: simultaneous transmission on `MOSI` and `MISO`.
* **Synchronous communication** driven by `SCLK` generated by the master.
* **Selectable Slave Enable (CS)** lines.
* **Parametric bit width** (default 8 bits).
* Simulation messages indicate each stage of operation.

---

## ğŸ§© Module Description

### ğŸŸ¦ `spi_master.v`

* Generates the SPI clock (`sclk`) internally from the system clock.
* Drives `mosi` line, chip select (`cs`), and controls data transmission.
* Samples `miso` data on the opposite edge of `sclk`.
* Initiates communication when `start` signal is asserted.

### ğŸŸ© `spi_slave.v`

* Receives `mosi` data and transmits its own data through `miso`.
* Shifts data in/out synchronously with `sclk`.
* Responds only when `cs` (Chip Select) is low.
* Data input (`slave_data_in`) decides what slave sends back to master.

### ğŸŸ¨ `tb_spi_system.v`

* Testbench instantiates one master and three slaves.
* Drives all input signals, provides test data, and monitors communication flow.
* Displays meaningful text outputs for every communication stage:

  * Data loading
  * Transmission start
  * Data shift progress
  * Reception complete

---

## ğŸ§  Signal Summary

| Signal     | Direction | Description                                |
| ---------- | --------- | ------------------------------------------ |
| `clk`      | Input     | System clock input to master.              |
| `rst`      | Input     | Active-high reset (master only).           |
| `sclk`     | Output    | SPI clock generated by master.             |
| `mosi`     | Output    | Master Out Slave In (serial data).         |
| `miso`     | Input     | Master In Slave Out (serial data).         |
| `cs`       | Output    | Chip Select lines for slaves.              |
| `data_in`  | Input     | Parallel data input to master/slaves.      |
| `data_out` | Output    | Received parallel data from slaves/master. |

---

## ğŸ§ª Simulation

1. Open the project in **ModelSim**, **Icarus Verilog**, or **Vivado** simulation environment.
2. Compile:

   ```bash
   iverilog -o spi_system tb_spi_system.v spi_master.v spi_slave.v
   vvp spi_system
   ```
3. Observe waveform or console logs:

   * `Data loaded to Master`
   * `Transmission Started`
   * `Received Data from Slave X`
   * `Transmission Completed`

---

## ğŸ§° Tools Used

* **Language:** Verilog HDL
* **Simulator:** Icarus Verilog / ModelSim / Vivado
* **Waveform Viewer:** GTKWave

---

## ğŸ“¦ File Structure

```
â”œâ”€â”€ spi_master.v
â”œâ”€â”€ spi_slave.v
â”œâ”€â”€ tb_spi_system.v
â””â”€â”€ README.md
```

---

## ğŸ“Š Example Output (Console)

```
-> Test Slave 1: tx1 = 0x3c
Master sending: 0xc3
Master received (miso_data) = 0x3c
Slave1 rx_data = 0x0
```

---
